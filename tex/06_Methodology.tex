\chapter{Methodology}\label{chapter:methodology}
A high-level overview of the study performed on the relative effect of the \glspl{vdp} of \glspl{hcv} is as follows:

\begin{enumerate}
\item  Develop a set of baseline combinations to represent a range of highly productive \glspl{hcv}.
\item Define reasonable ranges for each pertinent\gls{vdp} to be varied within.
\item Evaluate the relative effect of altering each \gls{vdp} within its selected range on overall vehicle performance within the \gls{pbs} framework.
\end{enumerate}

%==============================================
%      SECTION
%==============================================
\section{Baseline Combinations\label{section:methodbaselinecombinations}}
Three baseline \gls{hcv} configurations were developed based on South African workhorse vehicles and Australia's most common PBS vehicle.  Previous \gls{pbs} assessments conducted by \gls{wits} and the \gls{csir} were used to develop the design of each of the baseline combinations.

The same high-level prime mover was used for each baseline, with adjustments to the wheelbase where necessary. A set of representative suspensions were developed and used for all combinations to avoid inserting any bias from discrepancies between the baseline suspension designs. Sections \ref{section:baseline-quad-semi} to \ref{section:baseline-rigid-drawbar-combination} detail the development of each baseline vehicle configuration.

%==============================================
%      SECTION
%==============================================
\section{\gls{vdp} ranges\label{section:methodvdpranges}}
To define reasonable upper and lower limits for each pertinent \gls{vdp}, \gls{oem} variations, legal restrictions, physical constraints, global studies, and data from \gls{pbs} assessments previously conducted by Wits were consolidated and consulted. Details on how the range for each pertinent \gls{vdp} was chosen are contained in Section~\ref{chapter:parameter-range-selection}.

The geometrical limits of a \gls{hcv} are largely governed by the prescriptive legislation of the country in which the combination will be operating.The South African legislation was chosen for developing the geometrical limits to provide value to the \gls{pbs} pilot project in South African. This would not limit the results to being applicable only in South Africa, but if used internationally, the local legislation should be consulted to determine where results may differ.

Inertial, suspension and tyre properties are not widely available which is one of the factors that drive the need for this research. \gls{oem} variations, data from PBS assessments conducted by Wits and Global studies were consulted and the information was consolidated to develop ranges for each of the pertinent \glspl{vdp} that would represent the global \gls{hcv} fleet as local legislation does not dictate any restrictions on the origins of \gls{hcv} components.

%==============================================
%      SECTION
%==============================================
\section{Evaluating \gls{vdp} Relative Influence}

To evaluate the relative influence of each \gls{vdp} on each of the baseline combinations, the \glspl{vdp} were varied in isolation while keeping all other \glspl{vdp} constant at their baseline value. To evaluate the influence of each \gls{vdp}, the \gls{vdp} was varied by 5 evenly distributed points from its maximum to minimum value within its range as determined in Section~\ref{chapter:parameter-range-selection}. This resulted in a total of 8345 simulations being run in \trucksim{} as illustrated in \ref{figure:number-of-simulations-overview}.

%----------------------------------------------
%      FIGURE
%----------------------------------------------
\begin{figure}[H]
	\centering
	\includegraphics[width=1\textwidth]{fig/Number-of-simulations-Infographic}
	\caption{Overview of the number of \gls{hcv} simulations performed}
	\label{figure:number-of-simulations-overview}
\end{figure}
%----------------------------------------------
%      FIGURE
%----------------------------------------------

\trucksim{} was used as the multi-body vehicle dynamics simulation package to simulate the \gls{hcv} performing a set of \gls{pbs} manoeuvres. The simulation results were used to determine the safety of each \gls{hcv} within the \gls{pbs} framework using a post processor developed in \matlab{} at \gls{wits}. A \matlab{} script automated the adjustment of each individual or combination of parameters within a \trucksim{} model according to the work flow illustrated in Figure~\ref{figure:matlab-trucksim-api-interaction} allowing for the simulation of a large set of vehicle configurations. The versions of each software packaged used are included in Section~\ref{section:software}.

The simulation software and models were validated using results published by the \gls{ntc} as detailed in Section~\ref{section:validation-method}.

%----------------------------------------------
%      FIGURE
%----------------------------------------------
\begin{figure}[H]
	\centering
	\includegraphics[width=0.75\textwidth]{fig/2018-03-23_trucksim-com-server-flowchart}
	\caption{\matlab{} interaction with the \trucksim{} 2018 API using a COM server}
	\label{figure:matlab-trucksim-api-interaction}
\end{figure}
%----------------------------------------------
%      FIGURE
%----------------------------------------------

%==============================================
%      SECTION
%==============================================
\section{Software}\label{section:software}

The following software packages were used to perform the vehicle simulations:

\begin{enumerate}
	\item \textbf{\trucksim{} 2018 \cite{MechanicalSimulation2016}:} a multi-body vehicle dynamics package used to simulate the various \gls{hcv} vehicle configurations performing the \gls{pbs} manoeuvres.
	\item \textbf{\matlab{} 2018 \cite{MATHWORKS2015}:} a high-level coding environment capable of performing numerical computation and visualisation. Matlab was used in two ways; to post process the simulation outputs of the \trucksim{} simulations and determine vehicle performance within the \gls{pbs} framework and to compare the relative effect of each \gls{vdp} on vehicle performance.
\end{enumerate}

%==============================================
%      SECTION
%==============================================
\section{Validation Method}\label{section:validation-method}

The \gls{ntc} requested consultants to compare three computer-based modelling packages (ADAMS, AUTOSIM and \glspl{umtri} Yaw/Roll) to evaluate (in isolation of each other) the \gls{pbs} performance of a B-double and truck-trailer heavy vehicle combination \cite{Prem2001} (known as an interlink and rigid drawbar combination in South Africa).

The \gls{ntc} prescribed a set of inputs for a representative B-double and truck-trailer combination used by all consultants. The vehicles were simulated to perform identical pulse steer, step steer, standard SAE lane change and a low-speed 90\degree{} turn manoeuvres.

The B-double was found to have excellent agreement between all three of the modelling packages. The truck-trailer combination is an inherently less stable vehicle and produced larger but still acceptable amounts of variation in results between the modelling packages.

The Yaw/Roll simulation results were provided by the \gls{ntc} for service providers to calibrate their computer-modelling software and techniques. This data was used to validate the models.

\subsection{Validation Results}\label{section:validation-results}

The behaviour of the B-double and truck-trailer simulated in \trucksim{} 2018 was found to have good correlation with the behaviour simulated in \glspl{umtri} yaw/roll program. Similarly to the outcome of the \gls{ntc} validation, the truck-trailer combination compared less favourably than the B-double combination due to it being a less stable configuration.

Differences in simulated behaviour are attributed to improvements to the prediction of heavy vehicle performance with the latest solvers, differences in the driver models and additional degrees of freedom in the \trucksim{} modelling package.

A set of graphs comparing the simulated vehicle behaviour in \trucksim{} 2018 and \glspl{umtri} yaw/roll program are included in Appendix~\ref{appendix:NTC-validation}.